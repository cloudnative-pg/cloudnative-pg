# Release notes for CloudNativePG 1.26
<!-- SPDX-License-Identifier: CC-BY-4.0 -->

History of user-visible changes in the 1.26 minor release of CloudNativePG.

For a complete list of changes, please refer to the
[commits](https://github.com/cloudnative-pg/cloudnative-pg/commits/release-1.26
on the release branch in GitHub.

## Version 1.26.0-rc1

**Release date:** Mon DD, 20YY

### Important changes:

- The `hibernate on/off` commands in the `cnpg` plugin for `kubectl` now serve
  as shortcuts for the declarative hibernation procedure. The previously
  available imperative implementation has been removed in favor of the
  declarative approach. Additionally, the `hibernate status` command has been
  removed in favor of the standard `status` command.
  **Do not upgrade to version 1.26 of both the plugin and the operator unless
  you are prepared to migrate to the declarative method.**

### Features:

- **Declarative Offline In-Place Major Upgrades of PostgreSQL**: Introduced
  support for offline in-place major upgrades when a new operand container
  image with a higher PostgreSQL major version is applied to a cluster. During
  the upgrade, all cluster pods are shut down to ensure data consistency. A new
  job is created to validate upgrade conditions, run `pg_upgrade`, and set up new
  directories for `PGDATA`, WAL files, and tablespaces as needed. Once the
  upgrade is complete, replicas are re-created. Failed upgrades can be rolled
  back declaratively. (#6664)

- **Improved Startup and Readiness Probes for Replicas**: Enhanced support for
  Kubernetes startup and readiness probes in PostgreSQL instances, providing
  greater control over replicas based on the streaming lag. (#6623)

- **Declarative management of extensions and schemas**: Introduced the
  `extensions` and `schemas` stanzas in the Database resource to declaratively
  create, modify, and drop PostgreSQL extensions and schemas within a database. (#7062)

### Enhancements:

- Implemented the `cnpg.io/validation` annotation, allowing users to disable
  the validation webhook on CloudNativePG-managed resources. Use with caution,
  as this can permit unrestricted changes. (#7196)

- Introduced the `STANDBY_TCP_USER_TIMEOUT` operator configuration setting,
  which, if specified, sets the `tcp_user_timeout` parameter on all standby
  instances managed by the operator.

- Added the `KUBERNETES_CLUSTER_DOMAIN` configuration option to the operator,
  allowing users to specify the domain suffix for fully qualified domain names
  (FQDNs) generated within the Kubernetes cluster. If not set, it defaults to
  `cluster.local`. (#6989)

- feat: support customizable pod patches via annotations (#6323)

- `cnpg` plugin updates:
    - ...

### Security:

- Add ...
- Improve ...

### Fixes:

TODO:
- fix(PodMonitor): add proper `matchLabels` constraints (#7063)
- fix: delay rollout until every Pods received the same configuration (#6991)
- fix: reload plugin certificates when secret changes (#7029)

- `cnpg` plugin:
    - imperative restart should rollout the primary pod (#7122)

<!--
- Enhance ...
- Disable ...
- Gracefully handle ...
- Wait ...
- Fix ...
- Address ...
- `cnpg` plugin:
    - ...
    - ...
-->

### Supported versions

- Kubernetes 1.31, 1.30, and 1.29
- PostgreSQL 17, 16, 15, 14, and 13
    - PostgreSQL 17.X is the default image
    - PostgreSQL 13 support ends on November 12, 2025
