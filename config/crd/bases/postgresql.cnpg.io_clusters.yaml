---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.9.2
  creationTimestamp: null
  name: clusters.postgresql.cnpg.io
spec:
  group: postgresql.cnpg.io
  names:
    kind: Cluster
    listKind: ClusterList
    plural: clusters
    singular: cluster
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .metadata.creationTimestamp
      name: Age
      type: date
    - description: Number of instances
      jsonPath: .status.instances
      name: Instances
      type: integer
    - description: Number of ready instances
      jsonPath: .status.readyInstances
      name: Ready
      type: integer
    - description: Cluster current status
      jsonPath: .status.phase
      name: Status
      type: string
    - description: Primary pod
      jsonPath: .status.currentPrimary
      name: Primary
      type: string
    name: v1
    schema:
      openAPIV3Schema:
        description: Cluster is the Schema for the PostgreSQL API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: 'Specification of the desired behavior of the cluster. More
              info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status'
            properties:
              affinity:
                description: Affinity/Anti-affinity rules for Pods
                properties:
                  additionalPodAffinity:
                    description: AdditionalPodAffinity allows to specify pod affinity
                      terms to be passed to all the cluster's pods.
                    properties:
                      preferredDuringSchedulingIgnoredDuringExecution:
                        description: The scheduler will prefer to schedule pods to
                          nodes that satisfy the affinity expressions specified by
                          this field, but it may choose a node that violates one or
                          more of the expressions. The node that is most preferred
                          is the one with the greatest sum of weights, i.e. for each
                          node that meets all of the scheduling requirements (resource
                          request, requiredDuringScheduling affinity expressions,
                          etc.), compute a sum by iterating through the elements of
                          this field and adding "weight" to the sum if the node has
                          pods which matches the corresponding podAffinityTerm; the
                          node(s) with the highest sum are the most preferred.
                        items:
                          description: The weights of all of the matched WeightedPodAffinityTerm
                            fields are added per-node to find the most preferred node(s)
                          properties:
                            podAffinityTerm:
                              description: Required. A pod affinity term, associated
                                with the corresponding weight.
                              properties:
                                labelSelector:
                                  description: A label query over a set of resources,
                                    in this case pods.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: A label selector requirement
                                          is a selector that contains values, a key,
                                          and an operator that relates the key and
                                          values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: operator represents a key's
                                              relationship to a set of values. Valid
                                              operators are In, NotIn, Exists and
                                              DoesNotExist.
                                            type: string
                                          values:
                                            description: values is an array of string
                                              values. If the operator is In or NotIn,
                                              the values array must be non-empty.
                                              If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This
                                              array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: matchLabels is a map of {key,value}
                                        pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions,
                                        whose key field is "key", the operator is
                                        "In", and the values array contains only "value".
                                        The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaceSelector:
                                  description: A label query over the set of namespaces
                                    that the term applies to. The term is applied
                                    to the union of the namespaces selected by this
                                    field and the ones listed in the namespaces field.
                                    null selector and null or empty namespaces list
                                    means "this pod's namespace". An empty selector
                                    ({}) matches all namespaces.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: A label selector requirement
                                          is a selector that contains values, a key,
                                          and an operator that relates the key and
                                          values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: operator represents a key's
                                              relationship to a set of values. Valid
                                              operators are In, NotIn, Exists and
                                              DoesNotExist.
                                            type: string
                                          values:
                                            description: values is an array of string
                                              values. If the operator is In or NotIn,
                                              the values array must be non-empty.
                                              If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This
                                              array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: matchLabels is a map of {key,value}
                                        pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions,
                                        whose key field is "key", the operator is
                                        "In", and the values array contains only "value".
                                        The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaces:
                                  description: namespaces specifies a static list
                                    of namespace names that the term applies to. The
                                    term is applied to the union of the namespaces
                                    listed in this field and the ones selected by
                                    namespaceSelector. null or empty namespaces list
                                    and null namespaceSelector means "this pod's namespace".
                                  items:
                                    type: string
                                  type: array
                                topologyKey:
                                  description: This pod should be co-located (affinity)
                                    or not co-located (anti-affinity) with the pods
                                    matching the labelSelector in the specified namespaces,
                                    where co-located is defined as running on a node
                                    whose value of the label with key topologyKey
                                    matches that of any node on which any of the selected
                                    pods is running. Empty topologyKey is not allowed.
                                  type: string
                              required:
                              - topologyKey
                              type: object
                            weight:
                              description: weight associated with matching the corresponding
                                podAffinityTerm, in the range 1-100.
                              format: int32
                              type: integer
                          required:
                          - podAffinityTerm
                          - weight
                          type: object
                        type: array
                      requiredDuringSchedulingIgnoredDuringExecution:
                        description: If the affinity requirements specified by this
                          field are not met at scheduling time, the pod will not be
                          scheduled onto the node. If the affinity requirements specified
                          by this field cease to be met at some point during pod execution
                          (e.g. due to a pod label update), the system may or may
                          not try to eventually evict the pod from its node. When
                          there are multiple elements, the lists of nodes corresponding
                          to each podAffinityTerm are intersected, i.e. all terms
                          must be satisfied.
                        items:
                          description: Defines a set of pods (namely those matching
                            the labelSelector relative to the given namespace(s))
                            that this pod should be co-located (affinity) or not co-located
                            (anti-affinity) with, where co-located is defined as running
                            on a node whose value of the label with key <topologyKey>
                            matches that of any node on which a pod of the set of
                            pods is running
                          properties:
                            labelSelector:
                              description: A label query over a set of resources,
                                in this case pods.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: A label selector requirement is a
                                      selector that contains values, a key, and an
                                      operator that relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: operator represents a key's relationship
                                          to a set of values. Valid operators are
                                          In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: values is an array of string
                                          values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the
                                          operator is Exists or DoesNotExist, the
                                          values array must be empty. This array is
                                          replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: matchLabels is a map of {key,value}
                                    pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions,
                                    whose key field is "key", the operator is "In",
                                    and the values array contains only "value". The
                                    requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaceSelector:
                              description: A label query over the set of namespaces
                                that the term applies to. The term is applied to the
                                union of the namespaces selected by this field and
                                the ones listed in the namespaces field. null selector
                                and null or empty namespaces list means "this pod's
                                namespace". An empty selector ({}) matches all namespaces.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: A label selector requirement is a
                                      selector that contains values, a key, and an
                                      operator that relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: operator represents a key's relationship
                                          to a set of values. Valid operators are
                                          In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: values is an array of string
                                          values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the
                                          operator is Exists or DoesNotExist, the
                                          values array must be empty. This array is
                                          replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: matchLabels is a map of {key,value}
                                    pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions,
                                    whose key field is "key", the operator is "In",
                                    and the values array contains only "value". The
                                    requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaces:
                              description: namespaces specifies a static list of namespace
                                names that the term applies to. The term is applied
                                to the union of the namespaces listed in this field
                                and the ones selected by namespaceSelector. null or
                                empty namespaces list and null namespaceSelector means
                                "this pod's namespace".
                              items:
                                type: string
                              type: array
                            topologyKey:
                              description: This pod should be co-located (affinity)
                                or not co-located (anti-affinity) with the pods matching
                                the labelSelector in the specified namespaces, where
                                co-located is defined as running on a node whose value
                                of the label with key topologyKey matches that of
                                any node on which any of the selected pods is running.
                                Empty topologyKey is not allowed.
                              type: string
                          required:
                          - topologyKey
                          type: object
                        type: array
                    type: object
                  additionalPodAntiAffinity:
                    description: AdditionalPodAntiAffinity allows to specify pod anti-affinity
                      terms to be added to the ones generated by the operator if EnablePodAntiAffinity
                      is set to true (default) or to be used exclusively if set to
                      false.
                    properties:
                      preferredDuringSchedulingIgnoredDuringExecution:
                        description: The scheduler will prefer to schedule pods to
                          nodes that satisfy the anti-affinity expressions specified
                          by this field, but it may choose a node that violates one
                          or more of the expressions. The node that is most preferred
                          is the one with the greatest sum of weights, i.e. for each
                          node that meets all of the scheduling requirements (resource
                          request, requiredDuringScheduling anti-affinity expressions,
                          etc.), compute a sum by iterating through the elements of
                          this field and adding "weight" to the sum if the node has
                          pods which matches the corresponding podAffinityTerm; the
                          node(s) with the highest sum are the most preferred.
                        items:
                          description: The weights of all of the matched WeightedPodAffinityTerm
                            fields are added per-node to find the most preferred node(s)
                          properties:
                            podAffinityTerm:
                              description: Required. A pod affinity term, associated
                                with the corresponding weight.
                              properties:
                                labelSelector:
                                  description: A label query over a set of resources,
                                    in this case pods.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: A label selector requirement
                                          is a selector that contains values, a key,
                                          and an operator that relates the key and
                                          values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: operator represents a key's
                                              relationship to a set of values. Valid
                                              operators are In, NotIn, Exists and
                                              DoesNotExist.
                                            type: string
                                          values:
                                            description: values is an array of string
                                              values. If the operator is In or NotIn,
                                              the values array must be non-empty.
                                              If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This
                                              array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: matchLabels is a map of {key,value}
                                        pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions,
                                        whose key field is "key", the operator is
                                        "In", and the values array contains only "value".
                                        The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaceSelector:
                                  description: A label query over the set of namespaces
                                    that the term applies to. The term is applied
                                    to the union of the namespaces selected by this
                                    field and the ones listed in the namespaces field.
                                    null selector and null or empty namespaces list
                                    means "this pod's namespace". An empty selector
                                    ({}) matches all namespaces.
                                  properties:
                                    matchExpressions:
                                      description: matchExpressions is a list of label
                                        selector requirements. The requirements are
                                        ANDed.
                                      items:
                                        description: A label selector requirement
                                          is a selector that contains values, a key,
                                          and an operator that relates the key and
                                          values.
                                        properties:
                                          key:
                                            description: key is the label key that
                                              the selector applies to.
                                            type: string
                                          operator:
                                            description: operator represents a key's
                                              relationship to a set of values. Valid
                                              operators are In, NotIn, Exists and
                                              DoesNotExist.
                                            type: string
                                          values:
                                            description: values is an array of string
                                              values. If the operator is In or NotIn,
                                              the values array must be non-empty.
                                              If the operator is Exists or DoesNotExist,
                                              the values array must be empty. This
                                              array is replaced during a strategic
                                              merge patch.
                                            items:
                                              type: string
                                            type: array
                                        required:
                                        - key
                                        - operator
                                        type: object
                                      type: array
                                    matchLabels:
                                      additionalProperties:
                                        type: string
                                      description: matchLabels is a map of {key,value}
                                        pairs. A single {key,value} in the matchLabels
                                        map is equivalent to an element of matchExpressions,
                                        whose key field is "key", the operator is
                                        "In", and the values array contains only "value".
                                        The requirements are ANDed.
                                      type: object
                                  type: object
                                  x-kubernetes-map-type: atomic
                                namespaces:
                                  description: namespaces specifies a static list
                                    of namespace names that the term applies to. The
                                    term is applied to the union of the namespaces
                                    listed in this field and the ones selected by
                                    namespaceSelector. null or empty namespaces list
                                    and null namespaceSelector means "this pod's namespace".
                                  items:
                                    type: string
                                  type: array
                                topologyKey:
                                  description: This pod should be co-located (affinity)
                                    or not co-located (anti-affinity) with the pods
                                    matching the labelSelector in the specified namespaces,
                                    where co-located is defined as running on a node
                                    whose value of the label with key topologyKey
                                    matches that of any node on which any of the selected
                                    pods is running. Empty topologyKey is not allowed.
                                  type: string
                              required:
                              - topologyKey
                              type: object
                            weight:
                              description: weight associated with matching the corresponding
                                podAffinityTerm, in the range 1-100.
                              format: int32
                              type: integer
                          required:
                          - podAffinityTerm
                          - weight
                          type: object
                        type: array
                      requiredDuringSchedulingIgnoredDuringExecution:
                        description: If the anti-affinity requirements specified by
                          this field are not met at scheduling time, the pod will
                          not be scheduled onto the node. If the anti-affinity requirements
                          specified by this field cease to be met at some point during
                          pod execution (e.g. due to a pod label update), the system
                          may or may not try to eventually evict the pod from its
                          node. When there are multiple elements, the lists of nodes
                          corresponding to each podAffinityTerm are intersected, i.e.
                          all terms must be satisfied.
                        items:
                          description: Defines a set of pods (namely those matching
                            the labelSelector relative to the given namespace(s))
                            that this pod should be co-located (affinity) or not co-located
                            (anti-affinity) with, where co-located is defined as running
                            on a node whose value of the label with key <topologyKey>
                            matches that of any node on which a pod of the set of
                            pods is running
                          properties:
                            labelSelector:
                              description: A label query over a set of resources,
                                in this case pods.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: A label selector requirement is a
                                      selector that contains values, a key, and an
                                      operator that relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: operator represents a key's relationship
                                          to a set of values. Valid operators are
                                          In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: values is an array of string
                                          values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the
                                          operator is Exists or DoesNotExist, the
                                          values array must be empty. This array is
                                          replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: matchLabels is a map of {key,value}
                                    pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions,
                                    whose key field is "key", the operator is "In",
                                    and the values array contains only "value". The
                                    requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaceSelector:
                              description: A label query over the set of namespaces
                                that the term applies to. The term is applied to the
                                union of the namespaces selected by this field and
                                the ones listed in the namespaces field. null selector
                                and null or empty namespaces list means "this pod's
                                namespace". An empty selector ({}) matches all namespaces.
                              properties:
                                matchExpressions:
                                  description: matchExpressions is a list of label
                                    selector requirements. The requirements are ANDed.
                                  items:
                                    description: A label selector requirement is a
                                      selector that contains values, a key, and an
                                      operator that relates the key and values.
                                    properties:
                                      key:
                                        description: key is the label key that the
                                          selector applies to.
                                        type: string
                                      operator:
                                        description: operator represents a key's relationship
                                          to a set of values. Valid operators are
                                          In, NotIn, Exists and DoesNotExist.
                                        type: string
                                      values:
                                        description: values is an array of string
                                          values. If the operator is In or NotIn,
                                          the values array must be non-empty. If the
                                          operator is Exists or DoesNotExist, the
                                          values array must be empty. This array is
                                          replaced during a strategic merge patch.
                                        items:
                                          type: string
                                        type: array
                                    required:
                                    - key
                                    - operator
                                    type: object
                                  type: array
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  description: matchLabels is a map of {key,value}
                                    pairs. A single {key,value} in the matchLabels
                                    map is equivalent to an element of matchExpressions,
                                    whose key field is "key", the operator is "In",
                                    and the values array contains only "value". The
                                    requirements are ANDed.
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            namespaces:
                              description: namespaces specifies a static list of namespace
                                names that the term applies to. The term is applied
                                to the union of the namespaces listed in this field
                                and the ones selected by namespaceSelector. null or
                                empty namespaces list and null namespaceSelector means
                                "this pod's namespace".
                              items:
                                type: string
                              type: array
                            topologyKey:
                              description: This pod should be co-located (affinity)
                                or not co-located (anti-affinity) with the pods matching
                                the labelSelector in the specified namespaces, where
                                co-located is defined as running on a node whose value
                                of the label with key topologyKey matches that of
                                any node on which any of the selected pods is running.
                                Empty topologyKey is not allowed.
                              type: string
                          required:
                          - topologyKey
                          type: object
                        type: array
                    type: object
                  enablePodAntiAffinity:
                    description: Activates anti-affinity for the pods. The operator
                      will define pods anti-affinity unless this field is explicitly
                      set to false
                    type: boolean
                  nodeSelector:
                    additionalProperties:
                      type: string
                    description: 'NodeSelector is map of key-value pairs used to define
                      the nodes on which the pods can run. More info: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/'
                    type: object
                  podAntiAffinityType:
                    description: 'PodAntiAffinityType allows the user to decide whether
                      pod anti-affinity between cluster instance has to be considered
                      a strong requirement during scheduling or not. Allowed values
                      are: "preferred" (default if empty) or "required". Setting it
                      to "required", could lead to instances remaining pending until
                      new kubernetes nodes are added if all the existing nodes don''t
                      match the required pod anti-affinity rule. More info: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity'
                    type: string
                  tolerations:
                    description: 'Tolerations is a list of Tolerations that should
                      be set for all the pods, in order to allow them to run on tainted
                      nodes. More info: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/'
                    items:
                      description: The pod this Toleration is attached to tolerates
                        any taint that matches the triple <key,value,effect> using
                        the matching operator <operator>.
                      properties:
                        effect:
                          description: Effect indicates the taint effect to match.
                            Empty means match all taint effects. When specified, allowed
                            values are NoSchedule, PreferNoSchedule and NoExecute.
                          type: string
                        key:
                          description: Key is the taint key that the toleration applies
                            to. Empty means match all taint keys. If the key is empty,
                            operator must be Exists; this combination means to match
                            all values and all keys.
                          type: string
                        operator:
                          description: Operator represents a key's relationship to
                            the value. Valid operators are Exists and Equal. Defaults
                            to Equal. Exists is equivalent to wildcard for value,
                            so that a pod can tolerate all taints of a particular
                            category.
                          type: string
                        tolerationSeconds:
                          description: TolerationSeconds represents the period of
                            time the toleration (which must be of effect NoExecute,
                            otherwise this field is ignored) tolerates the taint.
                            By default, it is not set, which means tolerate the taint
                            forever (do not evict). Zero and negative values will
                            be treated as 0 (evict immediately) by the system.
                          format: int64
                          type: integer
                        value:
                          description: Value is the taint value the toleration matches
                            to. If the operator is Exists, the value should be empty,
                            otherwise just a regular string.
                          type: string
                      type: object
                    type: array
                  topologyKey:
                    description: TopologyKey to use for anti-affinity configuration.
                      See k8s documentation for more info on that
                    type: string
                type: object
              backup:
                description: The configuration to be used for backups
                properties:
                  barmanObjectStore:
                    description: The configuration for the barman-cloud tool suite
                    properties:
                      azureCredentials:
                        description: The credentials to use to upload data to Azure
                          Blob Storage
                        properties:
                          connectionString:
                            description: The connection string to be used
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          inheritFromAzureAD:
                            description: Use the Azure AD based authentication without
                              providing explicitly the keys.
                            type: boolean
                          storageAccount:
                            description: The storage account where to upload data
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          storageKey:
                            description: The storage account key to be used in conjunction
                              with the storage account name
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          storageSasToken:
                            description: A shared-access-signature to be used in conjunction
                              with the storage account name
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                        type: object
                      data:
                        description: The configuration to be used to backup the data
                          files When not defined, base backups files will be stored
                          uncompressed and may be unencrypted in the object store,
                          according to the bucket default policy.
                        properties:
                          compression:
                            description: Compress a backup file (a tar file per tablespace)
                              while streaming it to the object store. Available options
                              are empty string (no compression, default), `gzip`,
                              `bzip2` or `snappy`.
                            enum:
                            - gzip
                            - bzip2
                            - snappy
                            type: string
                          encryption:
                            description: Whenever to force the encryption of files
                              (if the bucket is not already configured for that).
                              Allowed options are empty string (use the bucket policy,
                              default), `AES256` and `aws:kms`
                            enum:
                            - AES256
                            - aws:kms
                            type: string
                          immediateCheckpoint:
                            description: Control whether the I/O workload for the
                              backup initial checkpoint will be limited, according
                              to the `checkpoint_completion_target` setting on the
                              PostgreSQL server. If set to true, an immediate checkpoint
                              will be used, meaning PostgreSQL will complete the checkpoint
                              as soon as possible. `false` by default.
                            type: boolean
                          jobs:
                            description: The number of parallel jobs to be used to
                              upload the backup, defaults to 2
                            format: int32
                            minimum: 1
                            type: integer
                        type: object
                      destinationPath:
                        description: The path where to store the backup (i.e. s3://bucket/path/to/folder)
                          this path, with different destination folders, will be used
                          for WALs and for data
                        minLength: 1
                        type: string
                      endpointCA:
                        description: EndpointCA store the CA bundle of the barman
                          endpoint. Useful when using self-signed certificates to
                          avoid errors with certificate issuer and barman-cloud-wal-archive
                        properties:
                          key:
                            description: The key to select
                            type: string
                          name:
                            description: Name of the referent.
                            type: string
                        required:
                        - key
                        - name
                        type: object
                      endpointURL:
                        description: Endpoint to be used to upload data to the cloud,
                          overriding the automatic endpoint discovery
                        type: string
                      googleCredentials:
                        description: The credentials to use to upload data to Google
                          Cloud Storage
                        properties:
                          applicationCredentials:
                            description: The secret containing the Google Cloud Storage
                              JSON file with the credentials
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          gkeEnvironment:
                            description: If set to true, will presume that it's running
                              inside a GKE environment, default to false.
                            type: boolean
                        type: object
                      historyTags:
                        additionalProperties:
                          type: string
                        description: HistoryTags is a list of key value pairs that
                          will be passed to the Barman --history-tags option.
                        type: object
                      s3Credentials:
                        description: The credentials to use to upload data to S3
                        properties:
                          accessKeyId:
                            description: The reference to the access key id
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          inheritFromIAMRole:
                            description: Use the role based authentication without
                              providing explicitly the keys.
                            type: boolean
                          region:
                            description: The reference to the secret containing the
                              region name
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          secretAccessKey:
                            description: The reference to the secret access key
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          sessionToken:
                            description: The references to the session key
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                        type: object
                      serverName:
                        description: The server name on S3, the cluster name is used
                          if this parameter is omitted
                        type: string
                      tags:
                        additionalProperties:
                          type: string
                        description: Tags is a list of key value pairs that will be
                          passed to the Barman --tags option.
                        type: object
                      wal:
                        description: The configuration for the backup of the WAL stream.
                          When not defined, WAL files will be stored uncompressed
                          and may be unencrypted in the object store, according to
                          the bucket default policy.
                        properties:
                          compression:
                            description: Compress a WAL file before sending it to
                              the object store. Available options are empty string
                              (no compression, default), `gzip`, `bzip2` or `snappy`.
                            enum:
                            - gzip
                            - bzip2
                            - snappy
                            type: string
                          encryption:
                            description: Whenever to force the encryption of files
                              (if the bucket is not already configured for that).
                              Allowed options are empty string (use the bucket policy,
                              default), `AES256` and `aws:kms`
                            enum:
                            - AES256
                            - aws:kms
                            type: string
                          maxParallel:
                            description: Number of WAL files to be either archived
                              in parallel (when the PostgreSQL instance is archiving
                              to a backup object store) or restored in parallel (when
                              a PostgreSQL standby is fetching WAL files from a recovery
                              object store). If not specified, WAL files will be processed
                              one at a time. It accepts a positive integer as a value
                              - with 1 being the minimum accepted value.
                            minimum: 1
                            type: integer
                        type: object
                    required:
                    - destinationPath
                    type: object
                  retentionPolicy:
                    description: RetentionPolicy is the retention policy to be used
                      for backups and WALs (i.e. '60d'). The retention policy is expressed
                      in the form of `XXu` where `XX` is a positive integer and `u`
                      is in `[dwm]` - days, weeks, months.
                    pattern: ^[1-9][0-9]*[dwm]$
                    type: string
                type: object
              bootstrap:
                description: Instructions to bootstrap this cluster
                properties:
                  initdb:
                    description: Bootstrap the cluster via initdb
                    properties:
                      dataChecksums:
                        description: 'Whether the `-k` option should be passed to
                          initdb, enabling checksums on data pages (default: `false`)'
                        type: boolean
                      database:
                        description: 'Name of the database used by the application.
                          Default: `app`.'
                        type: string
                      encoding:
                        description: The value to be passed as option `--encoding`
                          for initdb (default:`UTF8`)
                        type: string
                      import:
                        description: Bootstraps the new cluster by importing data
                          from an existing PostgreSQL instance using logical backup
                          (`pg_dump` and `pg_restore`)
                        properties:
                          databases:
                            description: The databases to import
                            items:
                              type: string
                            type: array
                          postImportApplicationSQL:
                            description: List of SQL queries to be executed as a superuser
                              in the application database right after is imported
                              - to be used with extreme care (by default empty). Only
                              available in microservice type.
                            items:
                              type: string
                            type: array
                          roles:
                            description: The roles to import
                            items:
                              type: string
                            type: array
                          source:
                            description: The source of the import
                            properties:
                              externalCluster:
                                description: The name of the externalCluster used
                                  for import
                                type: string
                            required:
                            - externalCluster
                            type: object
                          type:
                            description: The import type. Can be `microservice` or
                              `monolith`.
                            enum:
                            - microservice
                            - monolith
                            type: string
                        required:
                        - databases
                        - source
                        - type
                        type: object
                      localeCType:
                        description: The value to be passed as option `--lc-ctype`
                          for initdb (default:`C`)
                        type: string
                      localeCollate:
                        description: The value to be passed as option `--lc-collate`
                          for initdb (default:`C`)
                        type: string
                      options:
                        description: 'The list of options that must be passed to initdb
                          when creating the cluster. Deprecated: This could lead to
                          inconsistent configurations, please use the explicit provided
                          parameters instead. If defined, explicit values will be
                          ignored.'
                        items:
                          type: string
                        type: array
                      owner:
                        description: Name of the owner of the database in the instance
                          to be used by applications. Defaults to the value of the
                          `database` key.
                        type: string
                      postInitApplicationSQL:
                        description: List of SQL queries to be executed as a superuser
                          in the application database right after is created - to
                          be used with extreme care (by default empty)
                        items:
                          type: string
                        type: array
                      postInitApplicationSQLRefs:
                        description: PostInitApplicationSQLRefs points references
                          to ConfigMaps or Secrets which contain SQL files, the general
                          implementation order to these references is from all Secrets
                          to all ConfigMaps, and inside Secrets or ConfigMaps, the
                          implementation order is same as the order of each array
                          (by default empty)
                        properties:
                          configMapRefs:
                            description: ConfigMapRefs holds a list of references
                              to ConfigMaps
                            items:
                              description: ConfigMapKeySelector contains enough information
                                to let you locate the key of a ConfigMap
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            type: array
                          secretRefs:
                            description: SecretRefs holds a list of references to
                              Secrets
                            items:
                              description: SecretKeySelector contains enough information
                                to let you locate the key of a Secret
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            type: array
                        type: object
                      postInitSQL:
                        description: List of SQL queries to be executed as a superuser
                          immediately after the cluster has been created - to be used
                          with extreme care (by default empty)
                        items:
                          type: string
                        type: array
                      postInitTemplateSQL:
                        description: List of SQL queries to be executed as a superuser
                          in the `template1` after the cluster has been created -
                          to be used with extreme care (by default empty)
                        items:
                          type: string
                        type: array
                      secret:
                        description: Name of the secret containing the initial credentials
                          for the owner of the user database. If empty a new secret
                          will be created from scratch
                        properties:
                          name:
                            description: Name of the referent.
                            type: string
                        required:
                        - name
                        type: object
                      walSegmentSize:
                        description: 'The value in megabytes (1 to 1024) to be passed
                          to the `--wal-segsize` option for initdb (default: empty,
                          resulting in PostgreSQL default: 16MB)'
                        maximum: 1024
                        minimum: 1
                        type: integer
                    type: object
                  pg_basebackup:
                    description: Bootstrap the cluster taking a physical backup of
                      another compatible PostgreSQL instance
                    properties:
                      database:
                        description: 'Name of the database used by the application.
                          Default: `app`.'
                        type: string
                      owner:
                        description: Name of the owner of the database in the instance
                          to be used by applications. Defaults to the value of the
                          `database` key.
                        type: string
                      secret:
                        description: Name of the secret containing the initial credentials
                          for the owner of the user database. If empty a new secret
                          will be created from scratch
                        properties:
                          name:
                            description: Name of the referent.
                            type: string
                        required:
                        - name
                        type: object
                      source:
                        description: The name of the server of which we need to take
                          a physical backup
                        minLength: 1
                        type: string
                    required:
                    - source
                    type: object
                  recovery:
                    description: Bootstrap the cluster from a backup
                    properties:
                      backup:
                        description: The backup we need to restore
                        properties:
                          endpointCA:
                            description: EndpointCA store the CA bundle of the barman
                              endpoint. Useful when using self-signed certificates
                              to avoid errors with certificate issuer and barman-cloud-wal-archive.
                            properties:
                              key:
                                description: The key to select
                                type: string
                              name:
                                description: Name of the referent.
                                type: string
                            required:
                            - key
                            - name
                            type: object
                          name:
                            description: Name of the referent.
                            type: string
                        required:
                        - name
                        type: object
                      database:
                        description: 'Name of the database used by the application.
                          Default: `app`.'
                        type: string
                      owner:
                        description: Name of the owner of the database in the instance
                          to be used by applications. Defaults to the value of the
                          `database` key.
                        type: string
                      recoveryTarget:
                        description: 'By default, the recovery process applies all
                          the available WAL files in the archive (full recovery).
                          However, you can also end the recovery as soon as a consistent
                          state is reached or recover to a point-in-time (PITR) by
                          specifying a `RecoveryTarget` object, as expected by PostgreSQL
                          (i.e., timestamp, transaction Id, LSN, ...). More info:
                          https://www.postgresql.org/docs/current/runtime-config-wal.html#RUNTIME-CONFIG-WAL-RECOVERY-TARGET'
                        properties:
                          backupID:
                            description: The ID of the backup from which to start
                              the recovery process. If empty (default) the operator
                              will automatically detect the backup based on targetTime
                              or targetLSN if specified. Otherwise use the latest
                              available backup in chronological order.
                            type: string
                          exclusive:
                            description: Set the target to be exclusive (defaults
                              to true)
                            type: boolean
                          targetImmediate:
                            description: End recovery as soon as a consistent state
                              is reached
                            type: boolean
                          targetLSN:
                            description: The target LSN (Log Sequence Number)
                            type: string
                          targetName:
                            description: The target name (to be previously created
                              with `pg_create_restore_point`)
                            type: string
                          targetTLI:
                            description: The target timeline ("latest" or a positive
                              integer)
                            type: string
                          targetTime:
                            description: The target time as a timestamp in the RFC3339
                              standard
                            type: string
                          targetXID:
                            description: The target transaction ID
                            type: string
                        type: object
                      secret:
                        description: Name of the secret containing the initial credentials
                          for the owner of the user database. If empty a new secret
                          will be created from scratch
                        properties:
                          name:
                            description: Name of the referent.
                            type: string
                        required:
                        - name
                        type: object
                      source:
                        description: The external cluster whose backup we will restore.
                          This is also used as the name of the folder under which
                          the backup is stored, so it must be set to the name of the
                          source cluster
                        type: string
                    type: object
                type: object
              certificates:
                description: The configuration for the CA and related certificates
                properties:
                  clientCASecret:
                    description: 'The secret containing the Client CA certificate.
                      If not defined, a new secret will be created with a self-signed
                      CA and will be used to generate all the client certificates.<br
                      /> <br /> Contains:<br /> <br /> - `ca.crt`: CA that should
                      be used to validate the client certificates, used as `ssl_ca_file`
                      of all the instances.<br /> - `ca.key`: key used to generate
                      client certificates, if ReplicationTLSSecret is provided, this
                      can be omitted.<br />'
                    type: string
                  replicationTLSSecret:
                    description: The secret of type kubernetes.io/tls containing the
                      client certificate to authenticate as the `streaming_replica`
                      user. If not defined, ClientCASecret must provide also `ca.key`,
                      and a new secret will be created using the provided CA.
                    type: string
                  serverAltDNSNames:
                    description: The list of the server alternative DNS names to be
                      added to the generated server TLS certificates, when required.
                    items:
                      type: string
                    type: array
                  serverCASecret:
                    description: 'The secret containing the Server CA certificate.
                      If not defined, a new secret will be created with a self-signed
                      CA and will be used to generate the TLS certificate ServerTLSSecret.<br
                      /> <br /> Contains:<br /> <br /> - `ca.crt`: CA that should
                      be used to validate the server certificate, used as `sslrootcert`
                      in client connection strings.<br /> - `ca.key`: key used to
                      generate Server SSL certs, if ServerTLSSecret is provided, this
                      can be omitted.<br />'
                    type: string
                  serverTLSSecret:
                    description: The secret of type kubernetes.io/tls containing the
                      server TLS certificate and key that will be set as `ssl_cert_file`
                      and `ssl_key_file` so that clients can connect to postgres securely.
                      If not defined, ServerCASecret must provide also `ca.key` and
                      a new secret will be created using the provided CA.
                    type: string
                type: object
              description:
                description: Description of this PostgreSQL cluster
                type: string
              enableSuperuserAccess:
                default: true
                description: When this option is enabled, the operator will use the
                  `SuperuserSecret` to update the `postgres` user password (if the
                  secret is not present, the operator will automatically create one).
                  When this option is disabled, the operator will ignore the `SuperuserSecret`
                  content, delete it when automatically created, and then blank the
                  password of the `postgres` user by setting it to `NULL`. Enabled
                  by default.
                type: boolean
              externalClusters:
                description: The list of external clusters which are used in the configuration
                items:
                  description: ExternalCluster represents the connection parameters
                    to an external cluster which is used in the other sections of
                    the configuration
                  properties:
                    barmanObjectStore:
                      description: The configuration for the barman-cloud tool suite
                      properties:
                        azureCredentials:
                          description: The credentials to use to upload data to Azure
                            Blob Storage
                          properties:
                            connectionString:
                              description: The connection string to be used
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            inheritFromAzureAD:
                              description: Use the Azure AD based authentication without
                                providing explicitly the keys.
                              type: boolean
                            storageAccount:
                              description: The storage account where to upload data
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            storageKey:
                              description: The storage account key to be used in conjunction
                                with the storage account name
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            storageSasToken:
                              description: A shared-access-signature to be used in
                                conjunction with the storage account name
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                          type: object
                        data:
                          description: The configuration to be used to backup the
                            data files When not defined, base backups files will be
                            stored uncompressed and may be unencrypted in the object
                            store, according to the bucket default policy.
                          properties:
                            compression:
                              description: Compress a backup file (a tar file per
                                tablespace) while streaming it to the object store.
                                Available options are empty string (no compression,
                                default), `gzip`, `bzip2` or `snappy`.
                              enum:
                              - gzip
                              - bzip2
                              - snappy
                              type: string
                            encryption:
                              description: Whenever to force the encryption of files
                                (if the bucket is not already configured for that).
                                Allowed options are empty string (use the bucket policy,
                                default), `AES256` and `aws:kms`
                              enum:
                              - AES256
                              - aws:kms
                              type: string
                            immediateCheckpoint:
                              description: Control whether the I/O workload for the
                                backup initial checkpoint will be limited, according
                                to the `checkpoint_completion_target` setting on the
                                PostgreSQL server. If set to true, an immediate checkpoint
                                will be used, meaning PostgreSQL will complete the
                                checkpoint as soon as possible. `false` by default.
                              type: boolean
                            jobs:
                              description: The number of parallel jobs to be used
                                to upload the backup, defaults to 2
                              format: int32
                              minimum: 1
                              type: integer
                          type: object
                        destinationPath:
                          description: The path where to store the backup (i.e. s3://bucket/path/to/folder)
                            this path, with different destination folders, will be
                            used for WALs and for data
                          minLength: 1
                          type: string
                        endpointCA:
                          description: EndpointCA store the CA bundle of the barman
                            endpoint. Useful when using self-signed certificates to
                            avoid errors with certificate issuer and barman-cloud-wal-archive
                          properties:
                            key:
                              description: The key to select
                              type: string
                            name:
                              description: Name of the referent.
                              type: string
                          required:
                          - key
                          - name
                          type: object
                        endpointURL:
                          description: Endpoint to be used to upload data to the cloud,
                            overriding the automatic endpoint discovery
                          type: string
                        googleCredentials:
                          description: The credentials to use to upload data to Google
                            Cloud Storage
                          properties:
                            applicationCredentials:
                              description: The secret containing the Google Cloud
                                Storage JSON file with the credentials
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            gkeEnvironment:
                              description: If set to true, will presume that it's
                                running inside a GKE environment, default to false.
                              type: boolean
                          type: object
                        historyTags:
                          additionalProperties:
                            type: string
                          description: HistoryTags is a list of key value pairs that
                            will be passed to the Barman --history-tags option.
                          type: object
                        s3Credentials:
                          description: The credentials to use to upload data to S3
                          properties:
                            accessKeyId:
                              description: The reference to the access key id
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            inheritFromIAMRole:
                              description: Use the role based authentication without
                                providing explicitly the keys.
                              type: boolean
                            region:
                              description: The reference to the secret containing
                                the region name
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            secretAccessKey:
                              description: The reference to the secret access key
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                            sessionToken:
                              description: The references to the session key
                              properties:
                                key:
                                  description: The key to select
                                  type: string
                                name:
                                  description: Name of the referent.
                                  type: string
                              required:
                              - key
                              - name
                              type: object
                          type: object
                        serverName:
                          description: The server name on S3, the cluster name is
                            used if this parameter is omitted
                          type: string
                        tags:
                          additionalProperties:
                            type: string
                          description: Tags is a list of key value pairs that will
                            be passed to the Barman --tags option.
                          type: object
                        wal:
                          description: The configuration for the backup of the WAL
                            stream. When not defined, WAL files will be stored uncompressed
                            and may be unencrypted in the object store, according
                            to the bucket default policy.
                          properties:
                            compression:
                              description: Compress a WAL file before sending it to
                                the object store. Available options are empty string
                                (no compression, default), `gzip`, `bzip2` or `snappy`.
                              enum:
                              - gzip
                              - bzip2
                              - snappy
                              type: string
                            encryption:
                              description: Whenever to force the encryption of files
                                (if the bucket is not already configured for that).
                                Allowed options are empty string (use the bucket policy,
                                default), `AES256` and `aws:kms`
                              enum:
                              - AES256
                              - aws:kms
                              type: string
                            maxParallel:
                              description: Number of WAL files to be either archived
                                in parallel (when the PostgreSQL instance is archiving
                                to a backup object store) or restored in parallel
                                (when a PostgreSQL standby is fetching WAL files from
                                a recovery object store). If not specified, WAL files
                                will be processed one at a time. It accepts a positive
                                integer as a value - with 1 being the minimum accepted
                                value.
                              minimum: 1
                              type: integer
                          type: object
                      required:
                      - destinationPath
                      type: object
                    connectionParameters:
                      additionalProperties:
                        type: string
                      description: The list of connection parameters, such as dbname,
                        host, username, etc
                      type: object
                    name:
                      description: The server name, required
                      type: string
                    password:
                      description: The reference to the password to be used to connect
                        to the server
                      properties:
                        key:
                          description: The key of the secret to select from.  Must
                            be a valid secret key.
                          type: string
                        name:
                          description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            TODO: Add other useful fields. apiVersion, kind, uid?'
                          type: string
                        optional:
                          description: Specify whether the Secret or its key must
                            be defined
                          type: boolean
                      required:
                      - key
                      type: object
                      x-kubernetes-map-type: atomic
                    sslCert:
                      description: The reference to an SSL certificate to be used
                        to connect to this instance
                      properties:
                        key:
                          description: The key of the secret to select from.  Must
                            be a valid secret key.
                          type: string
                        name:
                          description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            TODO: Add other useful fields. apiVersion, kind, uid?'
                          type: string
                        optional:
                          description: Specify whether the Secret or its key must
                            be defined
                          type: boolean
                      required:
                      - key
                      type: object
                      x-kubernetes-map-type: atomic
                    sslKey:
                      description: The reference to an SSL private key to be used
                        to connect to this instance
                      properties:
                        key:
                          description: The key of the secret to select from.  Must
                            be a valid secret key.
                          type: string
                        name:
                          description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            TODO: Add other useful fields. apiVersion, kind, uid?'
                          type: string
                        optional:
                          description: Specify whether the Secret or its key must
                            be defined
                          type: boolean
                      required:
                      - key
                      type: object
                      x-kubernetes-map-type: atomic
                    sslRootCert:
                      description: The reference to an SSL CA public key to be used
                        to connect to this instance
                      properties:
                        key:
                          description: The key of the secret to select from.  Must
                            be a valid secret key.
                          type: string
                        name:
                          description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                            TODO: Add other useful fields. apiVersion, kind, uid?'
                          type: string
                        optional:
                          description: Specify whether the Secret or its key must
                            be defined
                          type: boolean
                      required:
                      - key
                      type: object
                      x-kubernetes-map-type: atomic
                  required:
                  - name
                  type: object
                type: array
              imageName:
                description: Name of the container image, supporting both tags (`<image>:<tag>`)
                  and digests for deterministic and repeatable deployments (`<image>:<tag>@sha256:<digestValue>`)
                type: string
              imagePullPolicy:
                description: 'Image pull policy. One of `Always`, `Never` or `IfNotPresent`.
                  If not defined, it defaults to `IfNotPresent`. Cannot be updated.
                  More info: https://kubernetes.io/docs/concepts/containers/images#updating-images'
                type: string
              imagePullSecrets:
                description: The list of pull secrets to be used to pull the images
                items:
                  description: LocalObjectReference contains enough information to
                    let you locate a local object with a known type inside the same
                    namespace
                  properties:
                    name:
                      description: Name of the referent.
                      type: string
                  required:
                  - name
                  type: object
                type: array
              inheritedMetadata:
                description: Metadata that will be inherited by all objects related
                  to the Cluster
                properties:
                  annotations:
                    additionalProperties:
                      type: string
                    type: object
                  labels:
                    additionalProperties:
                      type: string
                    type: object
                type: object
              instances:
                default: 1
                description: Number of instances required in the cluster
                minimum: 1
                type: integer
              logLevel:
                default: info
                description: 'The instances'' log level, one of the following values:
                  error, warning, info (default), debug, trace'
                enum:
                - error
                - warning
                - info
                - debug
                - trace
                type: string
              maxSyncReplicas:
                default: 0
                description: The target value for the synchronous replication quorum,
                  that can be decreased if the number of ready standbys is lower than
                  this. Undefined or 0 disable synchronous replication.
                minimum: 0
                type: integer
              minSyncReplicas:
                default: 0
                description: Minimum number of instances required in synchronous replication
                  with the primary. Undefined or 0 allow writes to complete when no
                  standby is available.
                minimum: 0
                type: integer
              monitoring:
                description: The configuration of the monitoring infrastructure of
                  this cluster
                properties:
                  customQueriesConfigMap:
                    description: The list of config maps containing the custom queries
                    items:
                      description: ConfigMapKeySelector contains enough information
                        to let you locate the key of a ConfigMap
                      properties:
                        key:
                          description: The key to select
                          type: string
                        name:
                          description: Name of the referent.
                          type: string
                      required:
                      - key
                      - name
                      type: object
                    type: array
                  customQueriesSecret:
                    description: The list of secrets containing the custom queries
                    items:
                      description: SecretKeySelector contains enough information to
                        let you locate the key of a Secret
                      properties:
                        key:
                          description: The key to select
                          type: string
                        name:
                          description: Name of the referent.
                          type: string
                      required:
                      - key
                      - name
                      type: object
                    type: array
                  disableDefaultQueries:
                    default: false
                    description: 'Whether the default queries should be injected.
                      Set it to `true` if you don''t want to inject default queries
                      into the cluster. Default: false.'
                    type: boolean
                  enablePodMonitor:
                    default: false
                    description: Enable or disable the `PodMonitor`
                    type: boolean
                type: object
              nodeMaintenanceWindow:
                description: Define a maintenance window for the Kubernetes nodes
                properties:
                  inProgress:
                    default: false
                    description: Is there a node maintenance activity in progress?
                    type: boolean
                  reusePVC:
                    default: true
                    description: Reuse the existing PVC (wait for the node to come
                      up again) or not (recreate it elsewhere - when `instances` >1)
                    type: boolean
                required:
                - inProgress
                type: object
              postgresGID:
                default: 26
                description: The GID of the `postgres` user inside the image, defaults
                  to `26`
                format: int64
                type: integer
              postgresUID:
                default: 26
                description: The UID of the `postgres` user inside the image, defaults
                  to `26`
                format: int64
                type: integer
              postgresql:
                description: Configuration of the PostgreSQL server
                properties:
                  ldap:
                    description: Options to specify LDAP configuration
                    properties:
                      bindAsAuth:
                        description: Bind as authentication configuration
                        properties:
                          prefix:
                            description: Prefix for the bind authentication option
                            type: string
                          suffix:
                            description: Suffix for the bind authentication option
                            type: string
                        type: object
                      bindSearchAuth:
                        description: Bind+Search authentication configuration
                        properties:
                          baseDN:
                            description: Root DN to begin the user search
                            type: string
                          bindDN:
                            description: DN of the user to bind to the directory
                            type: string
                          bindPassword:
                            description: Secret with the password for the user to
                              bind to the directory
                            properties:
                              key:
                                description: The key of the secret to select from.  Must
                                  be a valid secret key.
                                type: string
                              name:
                                description: 'Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                  TODO: Add other useful fields. apiVersion, kind,
                                  uid?'
                                type: string
                              optional:
                                description: Specify whether the Secret or its key
                                  must be defined
                                type: boolean
                            required:
                            - key
                            type: object
                            x-kubernetes-map-type: atomic
                          searchAttribute:
                            description: Attribute to match against the username
                            type: string
                          searchFilter:
                            description: Search filter to use when doing the search+bind
                              authentication
                            type: string
                        type: object
                      port:
                        description: LDAP server port
                        type: integer
                      scheme:
                        description: LDAP schema to be used, possible options are
                          `ldap` and `ldaps`
                        enum:
                        - ldap
                        - ldaps
                        type: string
                      server:
                        description: LDAP hostname or IP address
                        type: string
                      tls:
                        description: Set to 'true' to enable LDAP over TLS. 'false'
                          is default
                        type: boolean
                    type: object
                  parameters:
                    additionalProperties:
                      type: string
                    description: PostgreSQL configuration options (postgresql.conf)
                    type: object
                  pg_hba:
                    description: PostgreSQL Host Based Authentication rules (lines
                      to be appended to the pg_hba.conf file)
                    items:
                      type: string
                    type: array
                  promotionTimeout:
                    description: Specifies the maximum number of seconds to wait when
                      promoting an instance to primary. Default value is 40000000,
                      greater than one year in seconds, big enough to simulate an
                      infinite timeout
                    format: int32
                    type: integer
                  shared_preload_libraries:
                    description: Lists of shared preload libraries to add to the default
                      ones
                    items:
                      type: string
                    type: array
                  syncReplicaElectionConstraint:
                    description: Requirements to be met by sync replicas. This will
                      affect how the "synchronous_standby_names" parameter will be
                      set up.
                    properties:
                      enabled:
                        description: This flag enables the constraints for sync replicas
                        type: boolean
                      nodeLabelsAntiAffinity:
                        description: A list of node labels values to extract and compare
                          to evaluate if the pods reside in the same topology or not
                        items:
                          type: string
                        type: array
                    required:
                    - enabled
                    type: object
                type: object
              primaryUpdateMethod:
                default: switchover
                description: 'Method to follow to upgrade the primary server during
                  a rolling update procedure, after all replicas have been successfully
                  updated: it can be with a switchover (`switchover` - default) or
                  in-place (`restart`)'
                enum:
                - switchover
                - restart
                type: string
              primaryUpdateStrategy:
                default: unsupervised
                description: 'Strategy to follow to upgrade the primary server during
                  a rolling update procedure, after all replicas have been successfully
                  updated: it can be automated (`unsupervised` - default) or manual
                  (`supervised`)'
                enum:
                - unsupervised
                - supervised
                type: string
              replica:
                description: Replica cluster configuration
                properties:
                  enabled:
                    description: If replica mode is enabled, this cluster will be
                      a replica of an existing cluster. Replica cluster can be created
                      from a recovery object store or via streaming through pg_basebackup.
                      Refer to the Replication page of the documentation for more
                      information.
                    type: boolean
                  source:
                    description: The name of the external cluster which is the replication
                      origin
                    minLength: 1
                    type: string
                required:
                - source
                type: object
              replicationSlots:
                description: Replication slots management configuration
                properties:
                  highAvailability:
                    description: Replication slots for high availability configuration
                    properties:
                      enabled:
                        description: If enabled, the operator will automatically manage
                          replication slots on the primary instance and use them in
                          streaming replication connections with all the standby instances
                          that are part of the HA cluster. If disabled (default),
                          the operator will not take advantage of replication slots
                          in streaming connections with the replicas. This feature
                          also controls replication slots in replica cluster, from
                          the designated primary to its cascading replicas. This can
                          only be set at creation time.
                        type: boolean
                      slotPrefix:
                        default: _cnpg_
                        description: Prefix for replication slots managed by the operator
                          for HA. It may only contain lower case letters, numbers,
                          and the underscore character. This can only be set at creation
                          time. By default set to `_cnpg_`.
                        pattern: ^[0-9a-z_]*$
                        type: string
                    type: object
                  updateInterval:
                    default: 30
                    description: Standby will update the status of the local replication
                      slots every `updateInterval` seconds (default 30).
                    minimum: 1
                    type: integer
                type: object
              resources:
                description: Resources requirements of every generated Pod. Please
                  refer to https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
                  for more information.
                properties:
                  limits:
                    additionalProperties:
                      anyOf:
                      - type: integer
                      - type: string
                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                      x-kubernetes-int-or-string: true
                    description: 'Limits describes the maximum amount of compute resources
                      allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                    type: object
                  requests:
                    additionalProperties:
                      anyOf:
                      - type: integer
                      - type: string
                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                      x-kubernetes-int-or-string: true
                    description: 'Requests describes the minimum amount of compute
                      resources required. If Requests is omitted for a container,
                      it defaults to Limits if that is explicitly specified, otherwise
                      to an implementation-defined value. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                    type: object
                type: object
              startDelay:
                default: 30
                description: The time in seconds that is allowed for a PostgreSQL
                  instance to successfully start up (default 30)
                format: int32
                type: integer
              stopDelay:
                default: 30
                description: The time in seconds that is allowed for a PostgreSQL
                  instance to gracefully shutdown (default 30)
                format: int32
                type: integer
              storage:
                description: Configuration of the storage of the instances
                properties:
                  pvcTemplate:
                    description: Template to be used to generate the Persistent Volume
                      Claim
                    properties:
                      accessModes:
                        description: 'accessModes contains the desired access modes
                          the volume should have. More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1'
                        items:
                          type: string
                        type: array
                      dataSource:
                        description: 'dataSource field can be used to specify either:
                          * An existing VolumeSnapshot object (snapshot.storage.k8s.io/VolumeSnapshot)
                          * An existing PVC (PersistentVolumeClaim) If the provisioner
                          or an external controller can support the specified data
                          source, it will create a new volume based on the contents
                          of the specified data source. If the AnyVolumeDataSource
                          feature gate is enabled, this field will always have the
                          same contents as the DataSourceRef field.'
                        properties:
                          apiGroup:
                            description: APIGroup is the group for the resource being
                              referenced. If APIGroup is not specified, the specified
                              Kind must be in the core API group. For any other third-party
                              types, APIGroup is required.
                            type: string
                          kind:
                            description: Kind is the type of resource being referenced
                            type: string
                          name:
                            description: Name is the name of resource being referenced
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                        x-kubernetes-map-type: atomic
                      dataSourceRef:
                        description: 'dataSourceRef specifies the object from which
                          to populate the volume with data, if a non-empty volume
                          is desired. This may be any local object from a non-empty
                          API group (non core object) or a PersistentVolumeClaim object.
                          When this field is specified, volume binding will only succeed
                          if the type of the specified object matches some installed
                          volume populator or dynamic provisioner. This field will
                          replace the functionality of the DataSource field and as
                          such if both fields are non-empty, they must have the same
                          value. For backwards compatibility, both fields (DataSource
                          and DataSourceRef) will be set to the same value automatically
                          if one of them is empty and the other is non-empty. There
                          are two important differences between DataSource and DataSourceRef:
                          * While DataSource only allows two specific types of objects,
                          DataSourceRef allows any non-core object, as well as PersistentVolumeClaim
                          objects. * While DataSource ignores disallowed values (dropping
                          them), DataSourceRef preserves all values, and generates
                          an error if a disallowed value is specified. (Beta) Using
                          this field requires the AnyVolumeDataSource feature gate
                          to be enabled.'
                        properties:
                          apiGroup:
                            description: APIGroup is the group for the resource being
                              referenced. If APIGroup is not specified, the specified
                              Kind must be in the core API group. For any other third-party
                              types, APIGroup is required.
                            type: string
                          kind:
                            description: Kind is the type of resource being referenced
                            type: string
                          name:
                            description: Name is the name of resource being referenced
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                        x-kubernetes-map-type: atomic
                      resources:
                        description: 'resources represents the minimum resources the
                          volume should have. If RecoverVolumeExpansionFailure feature
                          is enabled users are allowed to specify resource requirements
                          that are lower than previous value but must still be higher
                          than capacity recorded in the status field of the claim.
                          More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of
                              compute resources required. If Requests is omitted for
                              a container, it defaults to Limits if that is explicitly
                              specified, otherwise to an implementation-defined value.
                              More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      selector:
                        description: selector is a label query over volumes to consider
                          for binding.
                        properties:
                          matchExpressions:
                            description: matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            items:
                              description: A label selector requirement is a selector
                                that contains values, a key, and an operator that
                                relates the key and values.
                              properties:
                                key:
                                  description: key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: operator represents a key's relationship
                                    to a set of values. Valid operators are In, NotIn,
                                    Exists and DoesNotExist.
                                  type: string
                                values:
                                  description: values is an array of string values.
                                    If the operator is In or NotIn, the values array
                                    must be non-empty. If the operator is Exists or
                                    DoesNotExist, the values array must be empty.
                                    This array is replaced during a strategic merge
                                    patch.
                                  items:
                                    type: string
                                  type: array
                              required:
                              - key
                              - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: matchLabels is a map of {key,value} pairs.
                              A single {key,value} in the matchLabels map is equivalent
                              to an element of matchExpressions, whose key field is
                              "key", the operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      storageClassName:
                        description: 'storageClassName is the name of the StorageClass
                          required by the claim. More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1'
                        type: string
                      volumeMode:
                        description: volumeMode defines what type of volume is required
                          by the claim. Value of Filesystem is implied when not included
                          in claim spec.
                        type: string
                      volumeName:
                        description: volumeName is the binding reference to the PersistentVolume
                          backing this claim.
                        type: string
                    type: object
                  resizeInUseVolumes:
                    default: true
                    description: Resize existent PVCs, defaults to true
                    type: boolean
                  size:
                    description: Size of the storage. Required if not already specified
                      in the PVC template. Changes to this field are automatically
                      reapplied to the created PVCs. Size cannot be decreased.
                    type: string
                  storageClass:
                    description: StorageClass to use for database data (`PGDATA`).
                      Applied after evaluating the PVC template, if available. If
                      not specified, generated PVCs will be satisfied by the default
                      storage class
                    type: string
                type: object
              superuserSecret:
                description: The secret containing the superuser password. If not
                  defined a new secret will be created with a randomly generated password
                properties:
                  name:
                    description: Name of the referent.
                    type: string
                required:
                - name
                type: object
              switchoverDelay:
                default: 40000000
                description: The time in seconds that is allowed for a primary PostgreSQL
                  instance to gracefully shutdown during a switchover. Default value
                  is 40000000, greater than one year in seconds, big enough to simulate
                  an infinite delay
                format: int32
                type: integer
              walStorage:
                description: Configuration of the storage for PostgreSQL WAL (Write-Ahead
                  Log)
                properties:
                  pvcTemplate:
                    description: Template to be used to generate the Persistent Volume
                      Claim
                    properties:
                      accessModes:
                        description: 'accessModes contains the desired access modes
                          the volume should have. More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1'
                        items:
                          type: string
                        type: array
                      dataSource:
                        description: 'dataSource field can be used to specify either:
                          * An existing VolumeSnapshot object (snapshot.storage.k8s.io/VolumeSnapshot)
                          * An existing PVC (PersistentVolumeClaim) If the provisioner
                          or an external controller can support the specified data
                          source, it will create a new volume based on the contents
                          of the specified data source. If the AnyVolumeDataSource
                          feature gate is enabled, this field will always have the
                          same contents as the DataSourceRef field.'
                        properties:
                          apiGroup:
                            description: APIGroup is the group for the resource being
                              referenced. If APIGroup is not specified, the specified
                              Kind must be in the core API group. For any other third-party
                              types, APIGroup is required.
                            type: string
                          kind:
                            description: Kind is the type of resource being referenced
                            type: string
                          name:
                            description: Name is the name of resource being referenced
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                        x-kubernetes-map-type: atomic
                      dataSourceRef:
                        description: 'dataSourceRef specifies the object from which
                          to populate the volume with data, if a non-empty volume
                          is desired. This may be any local object from a non-empty
                          API group (non core object) or a PersistentVolumeClaim object.
                          When this field is specified, volume binding will only succeed
                          if the type of the specified object matches some installed
                          volume populator or dynamic provisioner. This field will
                          replace the functionality of the DataSource field and as
                          such if both fields are non-empty, they must have the same
                          value. For backwards compatibility, both fields (DataSource
                          and DataSourceRef) will be set to the same value automatically
                          if one of them is empty and the other is non-empty. There
                          are two important differences between DataSource and DataSourceRef:
                          * While DataSource only allows two specific types of objects,
                          DataSourceRef allows any non-core object, as well as PersistentVolumeClaim
                          objects. * While DataSource ignores disallowed values (dropping
                          them), DataSourceRef preserves all values, and generates
                          an error if a disallowed value is specified. (Beta) Using
                          this field requires the AnyVolumeDataSource feature gate
                          to be enabled.'
                        properties:
                          apiGroup:
                            description: APIGroup is the group for the resource being
                              referenced. If APIGroup is not specified, the specified
                              Kind must be in the core API group. For any other third-party
                              types, APIGroup is required.
                            type: string
                          kind:
                            description: Kind is the type of resource being referenced
                            type: string
                          name:
                            description: Name is the name of resource being referenced
                            type: string
                        required:
                        - kind
                        - name
                        type: object
                        x-kubernetes-map-type: atomic
                      resources:
                        description: 'resources represents the minimum resources the
                          volume should have. If RecoverVolumeExpansionFailure feature
                          is enabled users are allowed to specify resource requirements
                          that are lower than previous value but must still be higher
                          than capacity recorded in the status field of the claim.
                          More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources'
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Limits describes the maximum amount of compute
                              resources allowed. More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: 'Requests describes the minimum amount of
                              compute resources required. If Requests is omitted for
                              a container, it defaults to Limits if that is explicitly
                              specified, otherwise to an implementation-defined value.
                              More info: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/'
                            type: object
                        type: object
                      selector:
                        description: selector is a label query over volumes to consider
                          for binding.
                        properties:
                          matchExpressions:
                            description: matchExpressions is a list of label selector
                              requirements. The requirements are ANDed.
                            items:
                              description: A label selector requirement is a selector
                                that contains values, a key, and an operator that
                                relates the key and values.
                              properties:
                                key:
                                  description: key is the label key that the selector
                                    applies to.
                                  type: string
                                operator:
                                  description: operator represents a key's relationship
                                    to a set of values. Valid operators are In, NotIn,
                                    Exists and DoesNotExist.
                                  type: string
                                values:
                                  description: values is an array of string values.
                                    If the operator is In or NotIn, the values array
                                    must be non-empty. If the operator is Exists or
                                    DoesNotExist, the values array must be empty.
                                    This array is replaced during a strategic merge
                                    patch.
                                  items:
                                    type: string
                                  type: array
                              required:
                              - key
                              - operator
                              type: object
                            type: array
                          matchLabels:
                            additionalProperties:
                              type: string
                            description: matchLabels is a map of {key,value} pairs.
                              A single {key,value} in the matchLabels map is equivalent
                              to an element of matchExpressions, whose key field is
                              "key", the operator is "In", and the values array contains
                              only "value". The requirements are ANDed.
                            type: object
                        type: object
                        x-kubernetes-map-type: atomic
                      storageClassName:
                        description: 'storageClassName is the name of the StorageClass
                          required by the claim. More info: https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1'
                        type: string
                      volumeMode:
                        description: volumeMode defines what type of volume is required
                          by the claim. Value of Filesystem is implied when not included
                          in claim spec.
                        type: string
                      volumeName:
                        description: volumeName is the binding reference to the PersistentVolume
                          backing this claim.
                        type: string
                    type: object
                  resizeInUseVolumes:
                    default: true
                    description: Resize existent PVCs, defaults to true
                    type: boolean
                  size:
                    description: Size of the storage. Required if not already specified
                      in the PVC template. Changes to this field are automatically
                      reapplied to the created PVCs. Size cannot be decreased.
                    type: string
                  storageClass:
                    description: StorageClass to use for database data (`PGDATA`).
                      Applied after evaluating the PVC template, if available. If
                      not specified, generated PVCs will be satisfied by the default
                      storage class
                    type: string
                type: object
            required:
            - instances
            type: object
          status:
            description: 'Most recently observed status of the cluster. This data
              may not be up to date. Populated by the system. Read-only. More info:
              https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status'
            properties:
              azurePVCUpdateEnabled:
                description: AzurePVCUpdateEnabled shows if the PVC online upgrade
                  is enabled for this cluster
                type: boolean
              certificates:
                description: The configuration for the CA and related certificates,
                  initialized with defaults.
                properties:
                  clientCASecret:
                    description: 'The secret containing the Client CA certificate.
                      If not defined, a new secret will be created with a self-signed
                      CA and will be used to generate all the client certificates.<br
                      /> <br /> Contains:<br /> <br /> - `ca.crt`: CA that should
                      be used to validate the client certificates, used as `ssl_ca_file`
                      of all the instances.<br /> - `ca.key`: key used to generate
                      client certificates, if ReplicationTLSSecret is provided, this
                      can be omitted.<br />'
                    type: string
                  expirations:
                    additionalProperties:
                      type: string
                    description: Expiration dates for all certificates.
                    type: object
                  replicationTLSSecret:
                    description: The secret of type kubernetes.io/tls containing the
                      client certificate to authenticate as the `streaming_replica`
                      user. If not defined, ClientCASecret must provide also `ca.key`,
                      and a new secret will be created using the provided CA.
                    type: string
                  serverAltDNSNames:
                    description: The list of the server alternative DNS names to be
                      added to the generated server TLS certificates, when required.
                    items:
                      type: string
                    type: array
                  serverCASecret:
                    description: 'The secret containing the Server CA certificate.
                      If not defined, a new secret will be created with a self-signed
                      CA and will be used to generate the TLS certificate ServerTLSSecret.<br
                      /> <br /> Contains:<br /> <br /> - `ca.crt`: CA that should
                      be used to validate the server certificate, used as `sslrootcert`
                      in client connection strings.<br /> - `ca.key`: key used to
                      generate Server SSL certs, if ServerTLSSecret is provided, this
                      can be omitted.<br />'
                    type: string
                  serverTLSSecret:
                    description: The secret of type kubernetes.io/tls containing the
                      server TLS certificate and key that will be set as `ssl_cert_file`
                      and `ssl_key_file` so that clients can connect to postgres securely.
                      If not defined, ServerCASecret must provide also `ca.key` and
                      a new secret will be created using the provided CA.
                    type: string
                type: object
              cloudNativePGCommitHash:
                description: The commit hash number of which this operator running
                type: string
              cloudNativePGOperatorHash:
                description: The hash of the binary of the operator
                type: string
              conditions:
                description: Conditions for cluster object
                items:
                  description: "Condition contains details for one aspect of the current
                    state of this API Resource. --- This struct is intended for direct
                    use as an array at the field path .status.conditions.  For example,
                    \n type FooStatus struct{ // Represents the observations of a
                    foo's current state. // Known .status.conditions.type are: \"Available\",
                    \"Progressing\", and \"Degraded\" // +patchMergeKey=type // +patchStrategy=merge
                    // +listType=map // +listMapKey=type Conditions []metav1.Condition
                    `json:\"conditions,omitempty\" patchStrategy:\"merge\" patchMergeKey:\"type\"
                    protobuf:\"bytes,1,rep,name=conditions\"` \n // other fields }"
                  properties:
                    lastTransitionTime:
                      description: lastTransitionTime is the last time the condition
                        transitioned from one status to another. This should be when
                        the underlying condition changed.  If that is not known, then
                        using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: message is a human readable message indicating
                        details about the transition. This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: observedGeneration represents the .metadata.generation
                        that the condition was set based upon. For instance, if .metadata.generation
                        is currently 12, but the .status.conditions[x].observedGeneration
                        is 9, the condition is out of date with respect to the current
                        state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: reason contains a programmatic identifier indicating
                        the reason for the condition's last transition. Producers
                        of specific condition types may define expected values and
                        meanings for this field, and whether the values are considered
                        a guaranteed API. The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                        --- Many .condition.type values are consistent across resources
                        like Available, but because arbitrary conditions can be useful
                        (see .node.status.conditions), the ability to deconflict is
                        important. The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              configMapResourceVersion:
                description: The list of resource versions of the configmaps, managed
                  by the operator. Every change here is done in the interest of the
                  instance manager, which will refresh the configmap data
                properties:
                  metrics:
                    additionalProperties:
                      type: string
                    description: A map with the versions of all the config maps used
                      to pass metrics. Map keys are the config map names, map values
                      are the versions
                    type: object
                type: object
              currentPrimary:
                description: Current primary instance
                type: string
              currentPrimaryTimestamp:
                description: The timestamp when the last actual promotion to primary
                  has occurred
                type: string
              danglingPVC:
                description: List of all the PVCs created by this cluster and still
                  available which are not attached to a Pod
                items:
                  type: string
                type: array
              firstRecoverabilityPoint:
                description: The first recoverability point, stored as a date in RFC3339
                  format
                type: string
              healthyPVC:
                description: List of all the PVCs not dangling nor initializing
                items:
                  type: string
                type: array
              initializingPVC:
                description: List of all the PVCs that are being initialized by this
                  cluster
                items:
                  type: string
                type: array
              instanceNames:
                description: List of instance names in the cluster
                items:
                  type: string
                type: array
              instances:
                description: Total number of instances in the cluster
                type: integer
              instancesReportedState:
                additionalProperties:
                  description: InstanceReportedState describes the last reported state
                    of an instance during a reconciliation loop
                  properties:
                    isPrimary:
                      description: indicates if an instance is the primary one
                      type: boolean
                    timeLineID:
                      description: indicates on which TimelineId the instance is
                      type: integer
                  required:
                  - isPrimary
                  type: object
                description: the reported state of the instances during the last reconciliation
                  loop
                type: object
              instancesStatus:
                additionalProperties:
                  items:
                    type: string
                  type: array
                description: InstancesStatus indicates in which status the instances
                  are
                type: object
              jobCount:
                description: How many Jobs have been created by this cluster
                format: int32
                type: integer
              latestGeneratedNode:
                description: ID of the latest generated node (used to avoid node name
                  clashing)
                type: integer
              onlineUpdateEnabled:
                description: OnlineUpdateEnabled shows if the online upgrade is enabled
                  inside the cluster
                type: boolean
              phase:
                description: Current phase of the cluster
                type: string
              phaseReason:
                description: Reason for the current phase
                type: string
              poolerIntegrations:
                description: The integration needed by poolers referencing the cluster
                properties:
                  pgBouncerIntegration:
                    description: PgBouncerIntegrationStatus encapsulates the needed
                      integration for the pgbouncer poolers referencing the cluster
                    properties:
                      secrets:
                        items:
                          type: string
                        type: array
                    type: object
                type: object
              pvcCount:
                description: How many PVCs have been created by this cluster
                format: int32
                type: integer
              readService:
                description: Current list of read pods
                type: string
              readyInstances:
                description: Total number of ready instances in the cluster
                type: integer
              resizingPVC:
                description: List of all the PVCs that have ResizingPVC condition.
                items:
                  type: string
                type: array
              secretsResourceVersion:
                description: The list of resource versions of the secrets managed
                  by the operator. Every change here is done in the interest of the
                  instance manager, which will refresh the secret data
                properties:
                  applicationSecretVersion:
                    description: The resource version of the "app" user secret
                    type: string
                  barmanEndpointCA:
                    description: The resource version of the Barman Endpoint CA if
                      provided
                    type: string
                  caSecretVersion:
                    description: Unused. Retained for compatibility with old versions.
                    type: string
                  clientCaSecretVersion:
                    description: The resource version of the PostgreSQL client-side
                      CA secret version
                    type: string
                  metrics:
                    additionalProperties:
                      type: string
                    description: A map with the versions of all the secrets used to
                      pass metrics. Map keys are the secret names, map values are
                      the versions
                    type: object
                  replicationSecretVersion:
                    description: The resource version of the "streaming_replica" user
                      secret
                    type: string
                  serverCaSecretVersion:
                    description: The resource version of the PostgreSQL server-side
                      CA secret version
                    type: string
                  serverSecretVersion:
                    description: The resource version of the PostgreSQL server-side
                      secret version
                    type: string
                  superuserSecretVersion:
                    description: The resource version of the "postgres" user secret
                    type: string
                type: object
              targetPrimary:
                description: Target primary instance, this is different from the previous
                  one during a switchover or a failover
                type: string
              targetPrimaryTimestamp:
                description: The timestamp when the last request for a new primary
                  has occurred
                type: string
              timelineID:
                description: The timeline of the Postgres cluster
                type: integer
              topology:
                description: Instances topology.
                properties:
                  instances:
                    additionalProperties:
                      additionalProperties:
                        type: string
                      description: PodTopologyLabels represent the topology of a Pod.
                        map[labelName]labelValue
                      type: object
                    description: Instances contains the pod topology of the instances
                    type: object
                  successfullyExtracted:
                    description: SuccessfullyExtracted indicates if the topology data
                      was extract. It is useful to enact fallback behaviors in synchronous
                      replica election in case of failures
                    type: boolean
                type: object
              unusablePVC:
                description: List of all the PVCs that are unusable because another
                  PVC is missing
                items:
                  type: string
                type: array
              writeService:
                description: Current write pod
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      scale:
        specReplicasPath: .spec.instances
        statusReplicasPath: .status.instances
      status: {}
