apiVersion: v1
kind: Pod
metadata:
  labels:
    run: mc
  name: mc
spec:
  containers:
  - env:
    - name: MC_HOST_minio
      value: https://minio:minio123@minio-service:9000
    image: minio/mc
    name: mc
    volumeMounts:
      # ca certificate path
      - name: secret-volume
        mountPath: /root/.mc/certs/CAs
    resources: {}
    # Keep the pod up to exec stuff on it
    command:
      - sleep
      - "3600"
  dnsPolicy: ClusterFirst
  restartPolicy: Always
  volumes:
    - name: secret-volume
      secret:
        defaultMode: 0600
        secretName: minio-server-ca-secret
